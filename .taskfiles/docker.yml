---
version: "3"

vars:
  CONTEXT: "home"

tasks:

  compose:network:
    desc: Docker container control
    dir: provision/docker
    cmds:
      - "docker-compose --context {{.CONTEXT}} --env-file {{.DOCKER_DIR}}/.sops.dec.env --project-directory {{.DOCKER_DIR}}/network {{.CLI_ARGS}}"

  compose:comics:
    desc: Docker container control
    dir: provision/docker
    cmds:
      - "docker-compose --context {{.CONTEXT}} --env-file {{.DOCKER_DIR}}/.sops.dec.env --project-directory {{.DOCKER_DIR}}/comics {{.CLI_ARGS}}"

  compose:media:
    desc: Docker container control
    dir: provision/docker
    cmds:
      - "docker-compose --context {{.CONTEXT}} --env-file {{.DOCKER_DIR}}/.sops.dec.env --project-directory {{.DOCKER_DIR}}/media {{.CLI_ARGS}}"

  compose:pihole:
    desc: Docker container control
    dir: provision/docker
    cmds:
      - "docker-compose --context {{.CONTEXT}} --env-file {{.DOCKER_DIR}}/.sops.dec.env --project-directory {{.DOCKER_DIR}}/pihole {{.CLI_ARGS}}"
