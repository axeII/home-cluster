---
version: "3"

vars:
  CONTEXT: "rock64"

tasks:

  network:
    desc: Docker container control
    dir: provision/docker
    cmds:
      - "docker-compose --context {{.CONTEXT}} --env-file {{.DOCKER_DIR}}/.sops.dec.env --project-directory {{.DOCKER_DIR}}/network {{.CLI_ARGS}}"

  media:
    desc: Docker container control
    dir: provision/docker
    cmds:
      - "docker-compose --context {{.CONTEXT}} --env-file {{.DOCKER_DIR}}/.sops.dec.env --project-directory {{.DOCKER_DIR}}/media {{.CLI_ARGS}}"
